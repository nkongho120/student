<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0">
    <title>Student Â· Notifications</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            background: #f0f6fd;
            display: flex;
            min-height: 100vh;
        }

        /* sidebar â€“ consistent with dashboard */
        .sidebar {
            width: 250px;
            background: #102c43;
            color: white;
            padding: 28px 18px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar h3 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 22px;
            padding-bottom: 30px;
            border-bottom: 1px solid #2f506b;
            margin-bottom: 25px;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            padding: 14px 18px;
            margin: 8px 0;
            border-radius: 14px;
            color: #c9dbee;
            display: flex;
            align-items: center;
            gap: 14px;
            transition: all 0.15s;
            cursor: pointer;
        }

        .sidebar li i {
            width: 24px;
            color: #9cb9d9;
        }

        .sidebar li.active {
            background: #1d4a6b;
            color: white;
            border-left: 4px solid #6fb0f0;
        }

        .sidebar li:not(.active):hover {
            background: #1d3f58;
        }

        /* main content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 28px 35px;
            background: #f7fcff;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 16px 28px;
            border-radius: 26px;
            margin-bottom: 30px;
            border: 1px solid #deecf7;
            flex-wrap: wrap;
            gap: 15px;
        }

        .page-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 24px;
            font-weight: 650;
            color: #15415e;
        }

        .badge {
            background: #e6492d;
            color: white;
            padding: 5px 14px;
            border-radius: 40px;
            font-size: 14px;
            font-weight: 600;
            margin-left: 12px;
        }

        .logout-link {
            background: #fef2f0;
            color: #b34545;
            text-decoration: none;
            padding: 10px 26px;
            border-radius: 40px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 1px solid #fadcd4;
        }

        /* filter tabs */
        .filter-tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .filter-btn {
            background: white;
            border: 1px solid #d2e2f0;
            padding: 10px 22px;
            border-radius: 40px;
            font-weight: 500;
            color: #2f587a;
            cursor: pointer;
            transition: all 0.15s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-btn.active {
            background: #1c5a87;
            color: white;
            border-color: #1c5a87;
        }

        .filter-btn:hover {
            background: #e7f0fa;
        }

        .filter-btn.active:hover {
            background: #154b70;
        }

        /* notification list */
        .notifications-container {
            background: white;
            border-radius: 28px;
            border: 1px solid #e4eefa;
            overflow: hidden;
            box-shadow: 0 6px 16px rgba(0,20,40,0.03);
            margin-bottom: 25px;
        }

        .notification-item {
            display: flex;
            align-items: center;
            gap: 18px;
            padding: 22px 28px;
            border-bottom: 1px solid #ecf3fc;
            transition: background 0.15s;
            cursor: pointer;
            position: relative;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        .notification-item:hover {
            background: #f6fcff;
        }

        .notification-item.unread {
            background: #ecf5ff;
            border-left: 5px solid #3282d0;
        }

        /* icon with background */
        .notif-icon {
            width: 52px;
            height: 52px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .icon-grade { background: #feead6; color: #c96b1c; }
        .icon-assignment { background: #e1efff; color: #2266b3; }
        .icon-event { background: #e0f5ea; color: #1b8049; }
        .icon-warning { background: #ffe2dd; color: #c73d2b; }
        .icon-info { background: #e4dcff; color: #5e3c9e; }

        .notif-content {
            flex: 1;
        }

        .notif-title {
            font-weight: 650;
            font-size: 17px;
            color: #1e3f59;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .notif-message {
            color: #4b6c88;
            font-size: 15px;
            margin-bottom: 6px;
        }

        .notif-meta {
            display: flex;
            align-items: center;
            gap: 20px;
            color: #7892ac;
            font-size: 13px;
        }

        .notif-meta i {
            margin-right: 4px;
        }

        .unread-dot {
            width: 10px;
            height: 10px;
            background: #3282d0;
            border-radius: 50%;
            margin-left: 8px;
        }

        /* action buttons */
        .mark-read-btn {
            background: transparent;
            border: 1px solid #c1d8ec;
            color: #2d628b;
            padding: 6px 16px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s;
            margin-left: 15px;
        }

        .mark-read-btn:hover {
            background: #e1effa;
        }

        /* bottom actions */
        .bottom-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .btn-outline {
            background: white;
            border: 1px solid #b8d2ea;
            padding: 12px 28px;
            border-radius: 40px;
            color: #1c5680;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: 0.15s;
        }

        .btn-outline:hover {
            background: #ecf5fe;
            border-color: #8ab3da;
        }

        .toast {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background: #1e4e6f;
            color: white;
            padding: 14px 30px;
            border-radius: 50px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 9999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        .toast.show { opacity: 1; }

        /* responsive */
        @media (max-width: 850px) {
            .sidebar { width: 220px; }
            .main-content { margin-left: 220px; padding: 25px; }
        }

        @media (max-width: 650px) {
            body { flex-direction: column; }
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                padding: 16px;
            }
            .sidebar h3 { padding-bottom: 15px; }
            .sidebar ul { display: flex; flex-wrap: wrap; gap: 6px; }
            .sidebar li { padding: 10px 16px; }
            .main-content { margin-left: 0; padding: 20px; }
            .notification-item { flex-wrap: wrap; }
        }
    </style>
</head>
<body>

<!-- sidebar -->
<div class="sidebar">
    <h3><i class="fas fa-graduation-cap"></i> Student</h3>
    <ul>
        <li><i class="fas fa-home"><a href="index.html" style="text-decoration: none; color: inherit;">Dashboard </a></i> </li>
         <li><i class="fas fa-chart-bar"></i> <a href="result.html" style="text-decoration: none; color: inherit;">Results</a></li>
        <li><i class="fas fa-school"></i> <a href="ai-js-chart.html" style="text-decoration: none; color: inherit;">View Semester</a></li>
        <li><i class="fas fa-book-open"></i> <a href="course.html" style="text-decoration: none; color: inherit;"> Courses </a></li>
        <li><i class="fas fa-chart-bar"></i> <a href="result.html" style="text-decoration: none; color: inherit;">Results</a></li>
        <li class="active"><i class="fas fa-bell"></i> <a href="notification-ai.html" style="text-decoration: none; color: inherit;">Notifications</a> </li>
        <li><i class="fa fa-user-graduate"></i><a href="profile.html" style="text-decoration: none; color: inherit;">Profile</a></li>
    </ul>
</div>

<!-- main content -->
<div class="main-content">
    <div class="top-bar">
        <div class="page-title">
            <i class="fas fa-bell" style="color: #2e7ab3;"></i> Notifications
            <span class="badge" id="unreadCount">3 new</span>
        </div>
        <a href="landing.html" class="logout-link" onclick="showToast('Logged out')" style="text-decoration: none; color: inherit;"><i class="fas fa-sign-out-alt"></i> logout</a>
    </div>

    <!-- filter tabs -->
    <div class="filter-tabs">
        <div class="filter-btn active" data-filter="all" onclick="filterNotifications('all')"><i class="fas fa-inbox"></i> All</div>
        <div class="filter-btn" data-filter="unread" onclick="filterNotifications('unread')"><i class="fas fa-envelope"></i> Unread</div>
        <div class="filter-btn" data-filter="grades" onclick="filterNotifications('grades')"><i class="fas fa-star"></i> Grades</div>
        <div class="filter-btn" data-filter="assignments" onclick="filterNotifications('assignments')"><i class="fas fa-pen"></i> Assignments</div>
    </div>

    <!-- notifications list container -->
    <div class="notifications-container" id="notifContainer"></div>

    <!-- bottom actions -->
    <div class="bottom-actions">
        <div class="btn-outline" onclick="markAllAsRead()">
            <i class="fas fa-check-double"></i> Mark all as read
        </div>
        <div class="btn-outline" onclick="showToast('Settings coming soon')">
            <i class="fas fa-gear"></i> Notification settings
        </div>
    </div>
</div>

<!-- toast -->
<div class="toast" id="toast"></div>

<script>
    // ==================== NOTIFICATIONS DATA ====================
    const notifications = [
        {
            id: 1,
            type: 'grades',
            icon: 'fa-star',
            iconBg: 'icon-grade',
            title: 'New grade posted',
            message: 'Your grade for Data Structures assignment is now available.',
            time: '10 minutes ago',
            date: '2026-02-13T10:30',
            unread: true,
            course: 'CSCI 221'
        },
        {
            id: 2,
            type: 'assignment',
            icon: 'fa-pen-to-square',
            iconBg: 'icon-assignment',
            title: 'Assignment deadline approaching',
            message: 'Software Engineering project due in 2 days (Friday, 5pm).',
            time: '2 hours ago',
            date: '2026-02-13T08:15',
            unread: true,
            course: 'SE 310'
        },
        {
            id: 3,
            type: 'event',
            icon: 'fa-calendar',
            iconBg: 'icon-event',
            title: 'Guest lecture: AI in industry',
            message: 'Dr. Sarah Chen from Google will speak on Friday at 2pm in Hall B.',
            time: 'Yesterday',
            date: '2026-02-12T14:20',
            unread: true,
            location: 'Hall B'
        },
        {
            id: 4,
            type: 'grades',
            icon: 'fa-file-lines',
            iconBg: 'icon-grade',
            title: 'Mid-term exam results',
            message: 'Calculus II mid-term marks are published. Class average: 72%.',
            time: '2 days ago',
            date: '2026-02-11T09:45',
            unread: false,
            course: 'MATH 201'
        },
        {
            id: 5,
            type: 'warning',
            icon: 'fa-triangle-exclamation',
            iconBg: 'icon-warning',
            title: 'Attendance warning',
            message: 'You have missed 3 consecutive Physics lectures. Please check in.',
            time: '3 days ago',
            date: '2026-02-10T11:00',
            unread: false,
            course: 'PHY 101'
        },
        {
            id: 6,
            type: 'info',
            icon: 'fa-circle-info',
            iconBg: 'icon-info',
            title: 'Library notice',
            message: 'The library will be closed on Monday for maintenance.',
            time: '4 days ago',
            date: '2026-02-09T16:30',
            unread: false
        },
        {
            id: 7,
            type: 'assignment',
            icon: 'fa-code',
            iconBg: 'icon-assignment',
            title: 'Programming lab feedback',
            message: 'Your lab 5 submission has been graded. Score: 92%.',
            time: '5 days ago',
            date: '2026-02-08T13:20',
            unread: false,
            course: 'CSCI 121'
        }
    ];

    // ==================== RENDER NOTIFICATIONS ====================
    function renderNotifications(filter = 'all') {
        const container = document.getElementById('notifContainer');
        if (!container) return;

        let filtered = notifications;
        if (filter === 'unread') {
            filtered = notifications.filter(n => n.unread === true);
        } else if (filter === 'grades') {
            filtered = notifications.filter(n => n.type === 'grades');
        } else if (filter === 'assignments') {
            filtered = notifications.filter(n => n.type === 'assignment' || n.type === 'assignments');
        }

        if (filtered.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 60px 20px; color: #6f94b0;">
                    <i class="fas fa-bell-slash" style="font-size: 48px; margin-bottom: 16px; opacity: 0.6;"></i>
                    <h3 style="font-weight: 500;">No notifications</h3>
                    <p style="margin-top: 8px;">You're all caught up!</p>
                </div>
            `;
            updateUnreadBadge();
            return;
        }

        let html = '';
        filtered.forEach(notif => {
            const unreadClass = notif.unread ? 'unread' : '';
            const iconClass = `notif-icon ${notif.iconBg}`;
            
            html += `
                <div class="notification-item ${unreadClass}" data-id="${notif.id}" onclick="handleNotifClick(${notif.id})">
                    <div class="${iconClass}">
                        <i class="fas ${notif.icon}"></i>
                    </div>
                    <div class="notif-content">
                        <div class="notif-title">
                            ${notif.title}
                            ${notif.unread ? '<span class="unread-dot" title="unread"></span>' : ''}
                        </div>
                        <div class="notif-message">${notif.message}</div>
                        <div class="notif-meta">
                            <span><i class="far fa-clock"></i> ${notif.time}</span>
                            ${notif.course ? `<span><i class="fas fa-book"></i> ${notif.course}</span>` : ''}
                            ${notif.location ? `<span><i class="fas fa-location-dot"></i> ${notif.location}</span>` : ''}
                        </div>
                    </div>
                    ${notif.unread ? `
                        <button class="mark-read-btn" onclick="event.stopPropagation(); markAsRead(${notif.id})">
                            <i class="fas fa-check"></i> Mark read
                        </button>
                    ` : ''}
                </div>
            `;
        });

        container.innerHTML = html;
        updateUnreadBadge();
    }

    // ==================== UPDATE UNREAD BADGE ====================
    function updateUnreadBadge() {
        const unreadCount = notifications.filter(n => n.unread).length;
        const badge = document.getElementById('unreadCount');
        if (badge) {
            badge.textContent = unreadCount > 0 ? `${unreadCount} new` : '0 new';
            badge.style.background = unreadCount > 0 ? '#e6492d' : '#7a9cbc';
        }
    }

    // ==================== MARK AS READ ====================
    function markAsRead(id) {
        const notif = notifications.find(n => n.id === id);
        if (notif) {
            notif.unread = false;
            // re-render with current filter
            const activeFilter = document.querySelector('.filter-btn.active')?.dataset?.filter || 'all';
            renderNotifications(activeFilter);
            showToast('Marked as read');
        }
    }

    // ==================== MARK ALL AS READ ====================
    function markAllAsRead() {
        notifications.forEach(n => n.unread = false);
        const activeFilter = document.querySelector('.filter-btn.active')?.dataset?.filter || 'all';
        renderNotifications(activeFilter);
        showToast('All notifications marked as read');
    }

    // ==================== FILTER NOTIFICATIONS ====================
    function filterNotifications(filter) {
        // update active tab
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.closest('.filter-btn').classList.add('active');
        
        renderNotifications(filter);
        showToast(`Filter: ${filter}`);
    }

    // ==================== HANDLE CLICK ON NOTIFICATION ====================
    function handleNotifClick(id) {
        const notif = notifications.find(n => n.id === id);
        if (notif) {
            showToast(`${notif.title} Â· ${notif.message.substring(0, 30)}...`);
            // optionally mark as read when clicked
            if (notif.unread) {
                setTimeout(() => markAsRead(id), 500);
            }
        }
    }

    // ==================== TOAST ====================
    function showToast(msg) {
        const toast = document.getElementById('toast');
        toast.textContent = 'ðŸ”” ' + msg;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 2000);
    }

    // ==================== INIT ====================
    document.addEventListener('DOMContentLoaded', () => {
        renderNotifications('all');
        
        // make functions global
        window.filterNotifications = filterNotifications;
        window.markAllAsRead = markAllAsRead;
        window.markAsRead = markAsRead;
        window.handleNotifClick = handleNotifClick;
        window.showToast = showToast;
    });
</script>

</body>
</html>